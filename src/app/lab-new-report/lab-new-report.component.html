<div class="container-fluid">
  <div class="row">
    <div class="col">
      <form [formGroup]="params" (ngSubmit)="onSubmit()">
        <div class="form-row">
          <div class="form-group col-md-8">
            <label for="lab_name">LAB NAME</label>
            <input
              type="text"
              class="form-control"
              id="lab_name"
              #lab_name
              (input)="matchLab(lab_name.value)"
              [matAutocomplete]="autoThree"
            />
            <mat-autocomplete #autoThree="matAutocomplete">
              <mat-option
                *ngFor="let option of labOption"
                [value]="option.lab_name"
                (onSelectionChange)="onLabSelect(option._id, $event)"
              >
                {{ option.lab_name }}
              </mat-option>
            </mat-autocomplete>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-8">
            <label for="test_name">TEST NAME</label>
            <input
              type="text"
              class="form-control"
              id="test_name"
              #medicine_name
              (input)="matchTest(medicine_name.value)"
              [matAutocomplete]="auto"
            />
            <mat-autocomplete #auto="matAutocomplete">
              <mat-option
                *ngFor="let option of testOption"
                [value]="option.test_name"
                (onSelectionChange)="onTestSelect(option, $event)"
              >
                {{ option.test_name }}
              </mat-option>
            </mat-autocomplete>
          </div>
          <div class="form-group col-md-3">
            <label for="price">Price</label>
            <input type="text" class="form-control" id="price" />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-3">
            <label for="parameter">Parameter Name</label>
            <input
              type="text"
              formControlName="name"
              class="form-control"
              id="parameter"
            />
          </div>
          <div class="col-md-6">
            <label for="value">Range</label>
            <input
              type="text"
              formControlName="normal_range"
              class="form-control"
              id="value"
            />
          </div>
          <div class="form-group col-md-3">
            <label for="unit">Unit</label>
            <input
              type="text"
              formControlName="unit"
              class="form-control"
              id="unit"
            />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-3">
            <button class="btn btn-secondary">Add</button>
          </div>
        </div>
      </form>
    </div>
    <div class="col">
      <div class="row">
        <button
          type="button"
          (click)="saveReport()"
          class="btn btn-secondary reportBtn"
        >
          SAVE REPORT
        </button>
      </div>
      <div class="row">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Parameter</th>
              <th scope="col">Normal Value</th>
              <th scope="col">Unit</th>
              <th scope="col">Remove</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let option of paramsList; let i = index">
              <th scope="row">{{ i + 1 }}</th>
              <td>{{ option.name }}</td>
              <td>{{ option.normal_range }}</td>
              <td>{{ option.unit }}</td>
              <td>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  (click)="removeItem(i)"
                  width="23"
                  height="23"
                  fill="currentColor"
                  class="bi bi-trash-fill"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"
                  />
                </svg>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
